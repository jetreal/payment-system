(this["webpackJsonppayment-system"]=this["webpackJsonppayment-system"]||[]).push([[0],{136:function(e,t,n){e.exports={formWarning:"formWarning_formWarning__1lgSp"}},137:function(e,t,n){e.exports={loginButton:"loginButton_loginButton__SXmFW"}},143:function(e,t,n){e.exports={wrapperImage:"preloader_wrapperImage__1oU8j"}},178:function(e,t,n){e.exports=n(306)},183:function(e,t,n){},184:function(e,t,n){},25:function(e,t,n){e.exports={wrapper:"transactionBlock_wrapper__2LPvv",inputRadio:"transactionBlock_inputRadio__3jDCj",inputChoose:"transactionBlock_inputChoose__1IfgM",clearBtn:"transactionBlock_clearBtn__3dHJi",recipientDiv:"transactionBlock_recipientDiv__RyzNf",recipientName:"transactionBlock_recipientName__2nzu0",wrapperConfirmButtons:"transactionBlock_wrapperConfirmButtons__1t30S"}},29:function(e,t,n){e.exports={textbox:"form_textbox__YGvfT",btn:"form_btn__1sn24",regInput:"form_regInput__yzJUB"}},30:function(e,t,n){e.exports={loginBox:"login_loginBox__Smg55",textbox:"login_textbox__1M9KA",btn:"login_btn__3SxeW"}},306:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(43),i=n.n(o),c=(n(183),n(184),n(40)),s=n(35),u=n(14),l=n(30),m=n.n(l),p=n(130),f=n(131),d=function(e){if(!e)return"* Field is required"},g=function(e){if(e.match(/[^a-zA-Z\u0430-\u044f\u0410-\u042f0-9]/g))return"* Invalid simbol"},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0);if(!(+e<=+t.MainState.userData.balance))return"* your balance is lower"},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return e!==t.password&&e.length>0?"Passwords do not match":void 0},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return n.length<e&&0!==n.length?"* Min length is ".concat(e," symbols"):n.length>t?"* Max length is ".concat(t," symbols"):void 0}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?0===e.length?" ":void 0:"Invalid email address"},y=function(e){return e&&isNaN(Number(e))?"Must be a number":void 0},_=n(67),O=function(e){var t=e.input,n=e.meta,o=Object(_.a)(e,["input","meta"]),i=Object(a.useRef)(null);i.current;return r.a.createElement("div",null,r.a.createElement("input",Object.assign({ref:i},t,o,{onMouseEnter:"amount"===t.name?function(e){return i.current.onkeydown=function(e){return 32!==e.keyCode}}:null})),r.a.createElement("br",null),n.error&&n.visited&&r.a.createElement("span",{style:{color:"yellow",fontSize:".8rem"}},n.error))},T=h(4,20),x=Object(f.a)({form:"login",initialValues:{email:"jet@gmail.com",password:"jet3333"}})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("h1",null,"Login"),r.a.createElement("div",{className:m.a.textbox},r.a.createElement(p.a,{component:O,name:"email",type:"email",placeholder:"Email",autoComplete:"off",validate:[v]})),r.a.createElement("div",{className:m.a.textbox},r.a.createElement(p.a,{component:O,name:"password",type:"password",placeholder:"Password",className:m.a.regInput,autoComplete:"off",validate:[T]})),r.a.createElement("input",{type:"submit",className:m.a.btn,value:"Sign in",onClick:e.collectUserData,disabled:e.pristine||e.submitting,style:e.pristine||e.submitting||e.invalid?{opacity:.4,cursor:"not-allowed"}:{opacity:1}}))})),S=n(136),N=n.n(S),R=function(e){return r.a.createElement("div",{className:N.a.formWarning},r.a.createElement("p",null,e.warningText))},A=n(137),C=n.n(A),w=function(e){return r.a.createElement("button",{className:C.a.loginButton,onClick:e.logout},e.name)},j=n(307),k=n(6),I=n.n(k),B=n(24),L=n(139),U=n(55),M=n.n(U),P=L.create({withCredentials:!0,baseURL:"http://193.124.114.46:3001",headers:{"content-type":"application/x-www-form-urlencoded"}}),H=function(e){var t=e,n={url:"/users",method:"POST",data:M.a.stringify(t)};return P(n).catch((function(e){if(e.response)return console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),e.response.data;e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}))},D=function(e){var t={url:"/sessions/create",method:"POST",data:M.a.stringify(e)};return P(t)},G=function(e){return P({url:"/api/protected/user-info",method:"GET",headers:{Authorization:"bearer "+e}}).catch((function(e){if(e.response)return console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),e.response.status;e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}))},F=function(e){return P({url:"/api/protected/transactions",method:"GET",headers:{Authorization:"bearer "+e}}).catch((function(e){if(e.response)return console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),e.response.status;e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}))},W=function(e,t){var n={};n.filter=e.username;var a={url:"/api/protected/users/list",method:"POST",headers:{Authorization:"bearer "+t},data:M.a.stringify(n)};return P(a).catch((function(e){if(e.response)return console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),e.response.data;e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}))},z=function(e,t){var n={url:"/api/protected/transactions",method:"POST",headers:{Authorization:"bearer "+t},data:M.a.stringify(e)};return P(n).catch((function(e){if(e.response)return console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),e.response.data;e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}))},Y=n(28),q=function(){try{var e=localStorage.getItem("id_token");if(null===e)return;return JSON.parse(e)}catch(t){return console.log(t)}},V=function(e){try{var t=JSON.stringify(e);localStorage.setItem("id_token",t)}catch(n){}};function X(){return{type:"CLEAR_FORM_WARNING"}}function J(e){return{type:"SUBMIT_LOGIN",loginData:e}}var Z=Object(u.b)((function(e){return{LoginState:e.LoginReducer,form:e.form.login}}),{onSubmitLoginAsync:function(e){return function(){var t=Object(B.a)(I.a.mark((function t(n){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D(e);case 3:a=t.sent,V(a.data.id_token),n(J(a)),Object(Y.a)("login"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:"ON_LOGIN_ERROR",errorData:t.t0.message.slice(-3)});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},onClearFromWarning:X})((function(e){return e.LoginState.isChangeLoginPage?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(c.b,{to:"/register"},r.a.createElement(w,{name:"register"})),r.a.createElement(j.a,{in:!0,appear:!0,timeout:{appear:1e3,enter:1e3,exit:1e3},classNames:"fadeRegister"},r.a.createElement("div",{className:m.a.loginBox},r.a.createElement(x,{onSubmit:function(t){e.onSubmitLoginAsync(t)},onChange:e.onClearFromWarning}),e.LoginState.warningText&&r.a.createElement(j.a,{in:!0,appear:!0,timeout:{appear:1e3,enter:1e3,exit:1e3},classNames:"fadeRegister"},r.a.createElement(R,{warningText:e.LoginState.warningText})))))})),K=n(29),Q=n.n(K),$=h(4,20),ee=h(null,26),te=Object(f.a)({form:"register",initialValues:{}})((function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:Q.a.textbox},r.a.createElement(p.a,{component:O,name:"username",type:"text",placeholder:"Username",className:Q.a.regInput,autoComplete:"off",validate:[d,ee,g]})),r.a.createElement("div",{className:Q.a.textbox},r.a.createElement(p.a,{component:O,name:"email",type:"email",placeholder:"Email",className:Q.a.regInput,autoComplete:"off",validate:[v,d]})),r.a.createElement("div",{className:Q.a.textbox},r.a.createElement(p.a,{component:O,name:"password",type:"password",placeholder:"Password",className:Q.a.regInput,autoComplete:"off",validate:[$,d]})),r.a.createElement("div",{className:Q.a.textbox},r.a.createElement(p.a,{component:O,name:"confirmPassword",type:"password",placeholder:"Confirm Password",className:Q.a.regInput,autoComplete:"off",validate:[E,d]})),r.a.createElement("input",{type:"submit",className:Q.a.btn,value:"Register",onClick:e.collectUserData,disabled:e.pristine||e.submitting,style:e.pristine||e.submitting||e.invalid?{opacity:.4,cursor:"not-allowed"}:{opacity:1}})))}));function ne(e){return{type:"ON_TRANSACTION_FAil",transData:e}}var ae=function(){return function(){var e=Object(B.a)(I.a.mark((function e(t){var n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q();case 3:return n=e.sent,e.next=6,G(n);case 6:a=e.sent,t({type:"FETCH_USER_DATA",userObj:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"LOGOUT"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},re=function(){return function(){var e=Object(B.a)(I.a.mark((function e(t){var n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q();case 3:return n=e.sent,e.next=6,F(n);case 6:a=e.sent,t({type:"GET_LIST_USER_TRANSACTION",arrTransactions:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},oe=Object(u.b)((function(e){return{allSystemUsers:e.MainReducer.allSystemUsers,LoginState:e.LoginReducer,form:e.form.login}}),{onSubmitRegisterAsync:function(e,t){return function(){var n=Object(B.a)(I.a.mark((function n(a){var r;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,0===t.filter((function(t){return t.name===e.username})).length){n.next=6;break}return n.next=5,a({type:"ON_SUBMIT_ERROR",errorData:"User with this name exist"});case 5:return n.abrupt("return");case 6:return n.next=8,H(e);case 8:r=n.sent,a({type:"SUBMIT_REGISTER",servResponce:r}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()},onClearFromWarning:X,fetchAllSystemUsersAsync:function(){return function(){var e=Object(B.a)(I.a.mark((function e(t){var n,a,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({email:"dima@gmail.com",password:"dima333"});case 2:return n=e.sent,a=[],r=["q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m","1","2","3","4","5","6","7","8","9","0"],e.next=7,r.forEach(function(){var e=Object(B.a)(I.a.mark((function e(t){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={username:t},e.next=3,W(r,n.data.id_token);case 3:e.sent.data.forEach((function(e){return a.push(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:return e.next=9,t({type:"FETCH_ALL_SYSTEM_USERS",arrUsers:a});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){if(Object(a.useEffect)((function(){e.onClearFromWarning(),e.fetchAllSystemUsersAsync()}),[]),e.LoginState.isChangeRegisterPage)return r.a.createElement(s.a,{to:"/login"});var t=e.allSystemUsers;return r.a.createElement("div",null,r.a.createElement(c.b,{to:"/login"},r.a.createElement(w,{name:"login"})),r.a.createElement(j.a,{in:!0,appear:!0,timeout:{appear:1e3,enter:1e3,exit:1e3},classNames:"fadeRegister"},r.a.createElement("div",{className:m.a.loginBox},r.a.createElement("h1",null,"Register"),r.a.createElement(te,{onSubmit:function(n){e.onSubmitRegisterAsync(n,t)},onChange:e.onClearFromWarning}),e.LoginState.warningText&&r.a.createElement(j.a,{in:!0,appear:!0,timeout:{appear:1e3,enter:1e3,exit:1e3},classNames:"fadeRegister"},r.a.createElement(R,{warningText:e.LoginState.warningText})))))})),ie=n(41),ce=n(71),se=n.n(ce),ue=n(72),le=n.n(ue),me=function(e){var t=Object(a.useState)(!1),n=Object(ie.a)(t,2),o=n[0],i=n[1];return Object(a.useEffect)((function(){setTimeout((function(){i(o=!o)}),500)}),[]),r.a.createElement("header",{className:le.a.mainHeader,style:{transform:o?"translateY(0px)":"translateY(-200px)"}},r.a.createElement(w,{name:"logout",logout:e.logout}),r.a.createElement("div",{className:le.a.wellcome},r.a.createElement("p",null,"Wellcome:",r.a.createElement("span",null,e.name))),r.a.createElement("div",{className:le.a.balance},r.a.createElement("p",null,"Your balance:",r.a.createElement("span",null,e.balance),"PW")))},pe=n(73),fe=n.n(pe),de=n(47),ge=n(48);function be(){var e=Object(de.a)(["\ntransform: ",";\n"]);return be=function(){return e},e}function Ee(){var e=Object(de.a)(["\ntransform: ",";\n"]);return Ee=function(){return e},e}function he(){var e=Object(de.a)(["\n    opacity: ",";\n    cursor: ",";\n    width: 220px;\n    height: 40px;\n    background: rgba(0,0,0, .2);\n    color: white;\n    font-size: 1.2rem;\n    border: 2px green solid;\n    border-radius: 6px;\n    transform: ",";\n    transition: all 1s;\n\n\n"]);return he=function(){return e},e}var ve=ge.a.button(he(),(function(e){return e.isActive?"0.2":"1"}),(function(e){return e.isActive?"not-allowed":"pointer"}),(function(e){return e.isLoad?"translateX(100px)":"translateX(0px)"})),ye=Object(ge.a)(ve)(Ee(),(function(e){return e.isLoad?"translateX(0px)":"translateX(-180px)"})),_e=Object(ge.a)(ve)(be(),(function(e){return e.isLoad?"translateX(0px)":"translateX(180px)"})),Oe=function(e){var t=Object(a.useState)(!1),n=Object(ie.a)(t,2),o=n[0],i=n[1];return Object(a.useEffect)((function(){setTimeout((function(){i(o=!o)}),500)}),[]),r.a.createElement("div",{className:fe.a.wrapperButtonSection},r.a.createElement("div",{className:fe.a.btnLeft},r.a.createElement(ye,{onClick:e.showHistorySection,isActive:e.isTransactionBlockActive,isLoad:o},e.isHistoryBlockActive?"close":"Transaction History")),r.a.createElement("div",{className:fe.a.btnRight},r.a.createElement(_e,{onClick:e.showCreateSection,isActive:e.isHistoryBlockActive,isLoad:o},e.isTransactionBlockActive?"close":"Create new transaction")))},Te=n(25),xe=n.n(Te),Se=n(74),Ne=n.n(Se),Re=(h(4,20),h(null,24)),Ae=Object(f.a)({form:"getUser",initialValues:{min:0,max:1e3}})((function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:Ne.a.textbox},r.a.createElement(p.a,{component:O,name:e.number?"amount":"username",type:e.type,placeholder:e.placeholder,className:Ne.a.regInput,autoComplete:"off",maxLength:e.number?"5":"24",validate:"number"!==e.number?[Re]:[y,b],normalize:"number"===e.number?function(e,t,n){return e<10001?e:t}:void 0})),"number"===e.number&&r.a.createElement("div",null,r.a.createElement("input",{type:"submit",className:Ne.a.btn,value:"set",disabled:e.pristine||e.submitting,style:e.pristine||e.submitting||e.invalid?{opacity:.4,cursor:"not-allowed"}:{opacity:1}}),r.a.createElement("p",null," maximum transfer amount: 10000 pw "))))})),Ce=Ae=Object(u.b)((function(e){return{MainState:e.MainReducer}}))(Ae),we=n(133),je=function(e){var t=e.input,n=(e.meta,Object(_.a)(e,["input","meta"]));return r.a.createElement("input",Object.assign({},t,n))},ke=function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("ul",null,e.recipients.map((function(t){return r.a.createElement("label",{htmlFor:t.id,key:t.id},r.a.createElement("li",{key:t.id},r.a.createElement(p.a,{component:je,className:xe.a.inputRadio,type:"radio",name:"username",id:t.id,value:t.name}),r.a.createElement("span",{key:t.id},t.name),r.a.createElement("input",{className:xe.a.inputChoose,type:"submit",value:"",disabled:e.hasCheckedValue!==t.name,style:e.hasCheckedValue!==t.name?{opacity:0,pointerEvents:"none"}:{opacity:1,pointerEvents:"auto"}})))}))))};ke=Object(f.a)({form:"checkUser",initialValues:{}})(ke);var Ie=Object(we.a)("checkUser"),Be=ke=Object(u.b)((function(e){return{hasCheckedValue:Ie(e,"username")}}))(ke),Le=function(e){var t={name:e.recipient.name,amount:e.recipient.amount},n=e.recipients.length;return r.a.createElement("div",{className:xe.a.wrapper},r.a.createElement("h2",{className:xe.a.header},"Create new transaction"),r.a.createElement("button",{className:xe.a.clearBtn,onClick:e.onClearRecipient,style:{opacity:0===n?"0.3":"1",cursor:0===n?"default":"pointer"},disabled:0===n},"Clear"),""===e.recipient.name?r.a.createElement("div",null,r.a.createElement(Ce,{onChange:e.onFetchFilterRecipientAsync,placeholder:"Enter the name of recipient",type:"text"}),r.a.createElement(Be,{recipients:e.recipients,onSubmit:e.setRecipientName})):r.a.createElement("div",{className:xe.a.recipientDiv},r.a.createElement("p",null,"recipient:",r.a.createElement("br",null),r.a.createElement("span",{className:xe.a.recipientName},e.recipient.name)),0===e.recipient.amount?r.a.createElement(Ce,{placeholder:"Enter the Amount money",type:"text",onSubmit:e.setRecipientAmount,number:"number"}):r.a.createElement("div",null,r.a.createElement("p",null,"Amount:",r.a.createElement("br",null),r.a.createElement("span",{className:xe.a.recipientName},e.recipient.amount),"PW"),r.a.createElement("h3",null,"Confirm transaction ?"),r.a.createElement("div",{className:xe.a.wrapperConfirmButtons},r.a.createElement("button",{onClick:e.onClearRecipient},"Cancel"),r.a.createElement("button",{onClick:e.onTransactionAsync.bind(null,t)},"Confirm")))))},Ue=n(36),Me=n.n(Ue),Pe=n(75);function He(){var e=Object(de.a)(["\n  padding: 1rem;\n\n  table {\n    margin: 0 auto;\n    border-spacing: 0;\n    border: 1px solid green;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n"]);return He=function(){return e},e}var De=ge.a.div(He()),Ge=function(e){var t=r.a.useMemo((function(){return[{Header:"Transaction history",columns:[{Header:"ID",accessor:"id"},{Header:"Name",accessor:"username"},{Header:"Date",accessor:"date"},{Header:"Amount",accessor:"amount"},{Header:"Balance",accessor:"balance"}]}]}),[]),n=function(){return{}};return r.a.createElement("div",{className:Me.a.wrapperHistory},r.a.createElement("h2",{className:Me.a.header},"Transaction History"),r.a.createElement("p",{className:Me.a.hint},"You can repeat one of your transactions using double click on its line"),r.a.createElement("div",{className:Me.a.tableWrapper},r.a.createElement(De,null,r.a.createElement((function(e){var t=e.columns,a=e.data,o=e.getRowProps,i=void 0===o?n:o,c=Object(Pe.c)({columns:t,data:a,initialState:{pageIndex:0}},Pe.b,Pe.a),s=c.getTableProps,u=c.getTableBodyProps,l=c.headerGroups,m=(c.rows,c.prepareRow),p=c.page,f=c.canPreviousPage,d=c.canNextPage,g=c.pageOptions,b=c.pageCount,E=c.gotoPage,h=c.nextPage,v=c.previousPage,y=c.setPageSize,_=c.state,O=_.pageIndex,T=_.pageSize;return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",s(),r.a.createElement("thead",null,l.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",e.getHeaderProps(e.getSortByToggleProps()),e.render("Header"),r.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""))})))}))),r.a.createElement("tbody",u(),p.map((function(e,t){return m(e),r.a.createElement("tr",e.getRowProps(i(e)),e.cells.map((function(e){return r.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),r.a.createElement("br",null),r.a.createElement("div",{className:Me.a.pagination},r.a.createElement("button",{onClick:function(){return E(0)},disabled:!f},"<<")," ",r.a.createElement("button",{onClick:function(){return v()},disabled:!f},"<")," ",r.a.createElement("button",{onClick:function(){return h()},disabled:!d},">")," ",r.a.createElement("button",{onClick:function(){return E(b-1)},disabled:!d},">>")," ",r.a.createElement("span",null,"Page"," ",r.a.createElement("strong",null,r.a.createElement("span",{className:Me.a.pageNumber},O+1),"of",r.a.createElement("span",{className:Me.a.pageNumber},g.length))," "),r.a.createElement("span",null,"| Go to page:"," ",r.a.createElement("input",{type:"number",defaultValue:O+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;E(t)},style:{width:"100px"}}))," ",r.a.createElement("select",{value:T,onChange:function(e){y(Number(e.target.value))}},[10,20,30,40,50].map((function(e){return r.a.createElement("option",{key:e,value:e},"Show ",e)})))))}),{columns:t,data:e.arrayOfTransactions,getRowProps:function(t){if(1!==Math.sign(t.original.amount))return{onDoubleClick:e.repeatTransaction.bind(null,t),style:{background:1!==Math.sign(t.original.amount)?"rgba(0,0,0,.3)":"rgba(200,200,0,.8)"}}}}))))},Fe=n(143),We=n.n(Fe),ze=function(e){return r.a.createElement("div",{className:We.a.wrapperImage,style:{opacity:e.isLoaded?"0":"1",zIndex:e.isLoaded?"-1":"2"}})},Ye=n(144),qe=n(145),Ve=n(150),Xe=n(146),Je=n(151),Ze=function(e){return{isAuth:e.LoginReducer.loginData.isAuth}},Ke=function(e){var t=function(t){function n(){return Object(Ye.a)(this,n),Object(Ve.a)(this,Object(Xe.a)(n).apply(this,arguments))}return Object(Je.a)(n,t),Object(qe.a)(n,[{key:"render",value:function(){return!1===this.props.isAuth?r.a.createElement(s.a,{to:"/login"}):r.a.createElement(e,this.props)}}]),n}(r.a.Component);return Object(u.b)(Ze)(t)}((function(e){var t=Object(a.useState)(!1),n=Object(ie.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(!e.MainState.isTransactionButton),s=Object(ie.a)(c,2),u=s[0];s[1];return Object(a.useEffect)((function(){i(!0),e.onFetchCurrentUserDataAsync(),e.onGetListUserTransactionAsync()}),[]),r.a.createElement("div",{className:se.a.main,onLoad:function(){return i(!0)}},r.a.createElement(ze,{isLoaded:o}),r.a.createElement(me,{logout:e.onLogout,name:e.MainState.userData.name,balance:e.MainState.userData.balance}),r.a.createElement(Oe,{showCreateSection:e.onButtonCreateTransaction,isTransactionBlockActive:e.MainState.isTransactionButton,showHistorySection:e.onButtonHistoryTransaction,isHistoryBlockActive:e.MainState.isHistoryButton}),e.MainState.isTransactionButton&&r.a.createElement(j.a,{in:u,appear:!0,timeout:{appear:2e3,enter:1e3,exit:1e3},classNames:"fade"},r.a.createElement(Le,{onFetchFilterRecipientAsync:e.onFetchFilterRecipientAsync,recipients:e.MainState.filterRecipients,recipient:e.MainState.recipient,onClearRecipient:e.onClearRecipient,setRecipientName:e.setRecipientName,setRecipientAmount:e.setRecipientAmount,onTransactionAsync:e.onTransactionAsync,onFetchCurrentUserDataAsync:e.onFetchCurrentUserDataAsync})),!e.MainState.isTransactionButton&&!e.MainState.isHistoryButton&&e.MainState.isTransationSuccess&&r.a.createElement("div",{className:se.a.congratulationWrap},r.a.createElement("br",null),r.a.createElement("br",null),"Transaction success !!!",r.a.createElement("br",null),r.a.createElement("h3",null,"You sent a transaction to the recipient",r.a.createElement("br",null),"with the name:",r.a.createElement("br",null),r.a.createElement("span",null,e.MainState.successRecipient.name),", in the amount of",r.a.createElement("span",null,e.MainState.successRecipient.amount),"pw.")),!e.MainState.isTransactionButton&&!e.MainState.isHistoryButton&&e.MainState.isTransationFailed&&r.a.createElement("div",{className:se.a.congratulationWrap,style:{color:"#0078D7"}},r.a.createElement("br",null),r.a.createElement("br",null),"Transaction failed !!!",r.a.createElement("br",null),r.a.createElement("h3",null,"You are not logged in. Session timed out.",r.a.createElement("br",null),"Pleace login again!")),e.MainState.isHistoryButton&&r.a.createElement(j.a,{in:u,appear:!0,timeout:{appear:2e3,enter:1e3,exit:1e3},classNames:"fade"},r.a.createElement(Ge,{arrayOfTransactions:e.MainState.arrayOfTransactions,repeatTransaction:e.repeatTransaction})))})),Qe=Object(u.b)((function(e){return{MainState:e.MainReducer}}),{onLogout:function(){return{type:"LOGOUT"}},onFetchCurrentUserDataAsync:ae,onButtonCreateTransaction:function(){return{type:"ON_BUTTON_CREATE_TRANSACTION"}},onButtonHistoryTransaction:function(){return{type:"ON_BUTTON_HISTORY_TRANSACTION"}},onFetchFilterRecipientAsync:function(e){return function(){var t=Object(B.a)(I.a.mark((function t(n){var a,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e.username){t.next=18;break}return t.prev=1,t.next=4,q();case 4:return a=t.sent,t.next=7,W(e,a);case 7:if("string"!==typeof(r=t.sent)){t.next=12;break}if("UnauthorizedError: jwt malformed"!==r.trim()){t.next=12;break}return t.next=12,n(ne());case 12:n({type:"ON_GET_USERS",recipients:r}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()},onClearRecipient:function(){return function(){var e=Object(B.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(Y.a)("getUser"));case 2:return e.next=4,t(Object(Y.a)("checkUser"));case 4:t({type:"ON_CLEAR_RECIPIENT_LIST"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setRecipientName:function(e){return{type:"SET_RECIPIENT_NAME",name:e.username}},setRecipientAmount:function(e){return{type:"SET_RECIPIENT_AMOUNT",amount:+e.amount}},onTransactionAsync:function(e){return function(){var t=Object(B.a)(I.a.mark((function t(n){var a,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q();case 3:return a=t.sent,t.next=6,z(e,a);case 6:if("string"!==typeof(r=t.sent)){t.next=11;break}if("UnauthorizedError: jwt malformed"!==r.trim()){t.next=11;break}return t.next=11,n(ne());case 11:return t.next=13,n({type:"ON_TRANSACTION_SUCCESS",transData:r});case 13:return t.next=15,n(re());case 15:return t.next=17,n(ae());case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e){return t.apply(this,arguments)}}()},onGetListUserTransactionAsync:re,repeatTransaction:function(e){return{type:"REPEAT_TRANSACTION",transData:e}}})(Ke);var $e=function(){return r.a.createElement(c.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,render:function(){return r.a.createElement(Qe,null)}}),r.a.createElement(s.b,{path:"/login",render:function(){return r.a.createElement(Z,null)}}),r.a.createElement(s.b,{path:"/register",render:function(){return r.a.createElement(oe,null)}}))))},et=n(12),tt=n(132),nt=n(11),at={isChangeRegisterPage:!1,isChangeLoginPage:!1,isRegisterSucces:!1,warningText:"",jwt:"",loginData:{isAuth:!0}},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(!0){case"CHANGE_LOGINPAGE_WITH_DELAY"===t.type:var n=Object(nt.a)({},e);return n.isChangeLoginPage=!0,n;case"CHANGE_REGISTERPAGE_WITH_DELAY"===t.type:var a=Object(nt.a)({},e);return a.isRegisterSucces&&(a.isChangeRegisterPage=!0,a.isRegisterSucces=!1),a;case"CLEAR_FORM_WARNING"===t.type:var r=Object(nt.a)({},e);return r.warningText="",r;case"LOGOUT"===t.type:var o=Object(nt.a)({},e);return o.loginData.isAuth=!1,o.isChangeLoginPage=!1,o.isChangeRegisterPage=!1,o;case"SUBMIT_LOGIN"===t.type:var i=Object(nt.a)({},e);return i.jwt=t.loginData.data.id_token,i.loginData.isAuth=!0,i.warningText="Success",i;case"SUBMIT_REGISTER"===t.type:var c=Object(nt.a)({},e);return c.warningText=t.servResponce,t.servResponce.status&&201===t.servResponce.status&&(c.warningText=t.servResponce.statusText,c.isRegisterSucces=!0),c;case"ON_LOGIN_ERROR"===t.type:var s=Object(nt.a)({},e);return"400"===t.errorData&&(s.warningText="Fill in all the fields!"),"401"===t.errorData&&(s.warningText="Invalid Username or password!"),s;case"ON_SUBMIT_ERROR"===t.type:var u=Object(nt.a)({},e);return u.warningText=t.errorData,u;default:return Object(nt.a)({},e)}},ot=n(148),it={allSystemUsers:[],objOfSuccessTransaction:{},arrayOfTransactions:[],isTransationSuccess:!1,isTransationFailed:!1,successRecipient:{name:"",amount:0},recipient:{name:"",amount:0},filterRecipients:[],isHistoryButton:!1,isTransactionButton:!1,userData:{id:0,name:"",email:"",balance:0}},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(!0){case"FETCH_ALL_SYSTEM_USERS"===t.type:var n=Object(nt.a)({},e);return n.allSystemUsers=t.arrUsers,n;case"REPEAT_TRANSACTION"===t.type:var a=Object(nt.a)({},e);return a.recipient.name=a.successRecipient.name=t.transData.original.username,a.recipient.amount=a.successRecipient.amount=Math.abs(t.transData.original.amount),a.isTransactionButton=!0,a.isHistoryButton=!1,a;case"GET_LIST_USER_TRANSACTION"===t.type:var r=Object(nt.a)({},e);return r.arrayOfTransactions=t.arrTransactions.data.trans_token,r;case"CLOSE_MENU"===t.type:var o=Object(nt.a)({},e);return o.isTransactionButton=!1,o.isHistoryButton=!1,o.isTransactionButton=!1,o.recipient.amount=0,o.recipient.name="",o;case"CLEAR_FORM_WARNING"===t.type:var i=Object(nt.a)({},e);return i.isTransationFailed=!1,i.isTransationSuccess=!1,i;case"ON_TRANSACTION_FAil"===t.type:var c=Object(nt.a)({},e);return c.isTransationFailed=!0,c.recipient.name="",c.recipient.amount=0,c.isTransactionButton=!1,c.filterRecipients=[],c;case"ON_TRANSACTION_SUCCESS"===t.type:var s=Object(nt.a)({},e);return s.isTransationSuccess=!0,s.recipient.name="",s.recipient.amount=0,s.isTransactionButton=!1,s.filterRecipients=[],s.objOfSuccessTransaction=Object(nt.a)({},t.transData.data.trans_token),s;case"SET_RECIPIENT_AMOUNT"===t.type:var u=Object(nt.a)({},e);return u.recipient.amount=u.successRecipient.amount=t.amount,u;case"SET_RECIPIENT_NAME"===t.type:var l=Object(nt.a)({},e);return l.recipient.name=l.successRecipient.name=t.name,l;case"ON_CLEAR_RECIPIENT_LIST"===t.type:var m=Object(nt.a)({},e);return m.filterRecipients=[],m.recipient.name="",m.recipient.amount=0,m;case"ON_GET_USERS"===t.type:var p=Object(nt.a)({},e);return p.filterRecipients=Object(ot.a)(t.recipients.data),p;case"ON_BUTTON_HISTORY_TRANSACTION"===t.type:var f=Object(nt.a)({},e);return f.isTransactionButton||(f.isHistoryButton=!f.isHistoryButton),f;case"ON_BUTTON_CREATE_TRANSACTION"===t.type:var d=Object(nt.a)({},e);return d.isHistoryButton||(d.isTransactionButton=!d.isTransactionButton),d.isTransactionButton||(d.filterRecipients=[],d.recipient.name=""),d;case"FETCH_USER_DATA"===t.type:var g=Object(nt.a)({},e);return g.userData=Object(nt.a)({},t.userObj.data.user_info_token),g.itAuth=!0,g;default:return Object(nt.a)({},e)}},st=n(147),ut=n(149),lt=n(19),mt=I.a.mark(vt),pt=I.a.mark(yt),ft=I.a.mark(_t),dt=I.a.mark(Ot),gt=I.a.mark(Tt),bt=I.a.mark(xt),Et=I.a.mark(St),ht=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function vt(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lt.c)("SUBMIT_REGISTER",Tt);case 2:return e.next=4,Object(lt.c)("SUBMIT_LOGIN",xt);case 4:return e.next=6,Object(lt.c)("ON_TRANSACTION_SUCCESS",Ot);case 6:return e.next=8,Object(lt.c)("ON_TRANSACTION_FAil",yt);case 8:return e.next=10,Object(lt.c)("LOGOUT",_t);case 10:case"end":return e.stop()}}),mt)}function yt(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(5e3);case 2:return e.next=4,Object(lt.b)({type:"LOGOUT"});case 4:case"end":return e.stop()}}),pt)}function _t(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lt.b)({type:"ON_CLEAR_RECIPIENT_LIST"});case 2:return e.next=4,Object(lt.b)({type:"CLOSE_MENU"});case 4:case"end":return e.stop()}}),ft)}function Ot(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(9150);case 2:return e.next=4,Object(lt.b)({type:"CLEAR_FORM_WARNING"});case 4:case"end":return e.stop()}}),dt)}function Tt(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(1150);case 2:return e.next=4,Object(lt.b)({type:"CHANGE_REGISTERPAGE_WITH_DELAY"});case 4:return e.next=6,Object(lt.b)({type:"LOGOUT"});case 6:case"end":return e.stop()}}),gt)}function xt(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(1150);case 2:return e.next=4,Object(lt.b)({type:"CHANGE_LOGINPAGE_WITH_DELAY"});case 4:case"end":return e.stop()}}),bt)}function St(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lt.a)([vt()]);case 2:case"end":return e.stop()}}),Et)}var Nt=Object(ut.a)(),Rt=[st.a,Nt],At=Object(et.c)({LoginReducer:rt,MainReducer:ct,form:tt.a}),Ct=Object(et.e)(At,et.a.apply(void 0,Rt));Nt.run(St),window.store=Ct;var wt=Ct;i.a.render(r.a.createElement(u.a,{store:wt},r.a.createElement($e,null)),document.getElementById("root"))},36:function(e,t,n){e.exports={hint:"historyBlock_hint__1iNPH",pagination:"historyBlock_pagination__30BC6",pageNumber:"historyBlock_pageNumber__29hEi",wrapperHistory:"historyBlock_wrapperHistory__1gLY8"}},71:function(e,t,n){e.exports={main:"main_main__1vXH0",congratulationWrap:"main_congratulationWrap__2pusf"}},72:function(e,t,n){e.exports={mainHeader:"mainHeader_mainHeader__341VC"}},73:function(e,t,n){e.exports={wrapperButtonSection:"buttonSection_wrapperButtonSection__vjQt9"}},74:function(e,t,n){e.exports={btn:"userForm_btn__14kCP",textbox:"userForm_textbox__2PJmj"}}},[[178,1,2]]]);
//# sourceMappingURL=main.3ef3b692.chunk.js.map